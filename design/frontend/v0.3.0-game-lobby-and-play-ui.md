# v0.3.0 프런트엔드 설계 - 로비/게임 화면

## 1. 목적
- 빠른 대전 큐 참여와 매칭 상태 표시 UI 제공.
- WebSocket으로 전달되는 실시간 게임 스냅샷을 렌더링하고 간단한 입력 UI 제공.

## 2. 주요 컴포넌트/훅
- `pages/LobbyPage.tsx`
  - "빠른 대전" 버튼, 매칭 상태 메시지, 최근 경기 결과 목록 렌더링.
  - 매칭 완료 시 roomId를 포함해 `/game`으로 리다이렉트.
- `pages/GamePage.tsx`
  - roomId 쿼리 파라미터 기준으로 게임 상태 렌더링.
  - 패들 이동 버튼(위/정지/아래)으로 입력 전송.
- `hooks/useQuickMatch.ts`
  - `POST/GET /api/match/quick` 폴링으로 티켓/roomId 관리.
- `hooks/useGameSocket.ts`
  - `/ws/game?roomId=<id>&token=<jwt>` 연결, 스냅샷 수신 및 입력 전송.
- `shared/types/game.ts`
  - `GameSnapshot`, `GameServerMessage` 타입 정의.

## 3. 화면 흐름
1) 로비에서 버튼 클릭 → `useQuickMatch.start()` → 티켓 발급.
2) 상태가 `MATCHED`가 되면 roomId를 쿼리에 포함해 `/game`으로 이동.
3) `useGameSocket`이 roomId+token으로 WebSocket 연결 → READY/STATE 이벤트 수신.
4) 화면에 패들/공/점수 렌더링, 입력 버튼 클릭 시 `{type: 'INPUT', roomId, direction}` 전송.
5) `snapshot.finished`가 true이면 종료 메시지 표출.

## 4. 상태 관리
- 매칭: 훅 내부 state(`idle`/`waiting`/`matched`/`error`).
- 게임: `snapshot` 단일 소스, React state로 보관.

## 5. 스타일
- `index.css`에 코트/패들/볼/스코어보드/컨트롤 기본 스타일 추가.
- 크기: 서버 물리 좌표(800x480)를 0.6배 축소해 표시.

## 6. 테스트/검증
- 브라우저 수준 수동 검증: 로비→매칭→게임 흐름이 이어지는지 확인.
- WebSocket 실패 시 에러 메시지 노출, roomId 누락 시 `/lobby`로 복귀.

## 7. 향후 개선
- 키보드 입력/터치 제스처 추가.
- 매칭 취소 버튼, 재시도 플로우.
- 점수 종료 후 결과 요약 모달.
