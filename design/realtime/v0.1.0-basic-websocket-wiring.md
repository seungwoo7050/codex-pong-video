# v0.1.0 실시간 설계: 기본 WebSocket 와이어링

## 1. 목적 / 범위
- WebSocket 연결이 정상적으로 맺어지는지 확인하기 위한 최소 에코 채널을 제공한다.
- 추후 STOMP 기반 게임 이벤트로 확장할 수 있도록 핸들러를 별도 클래스로 분리한다.

## 2. 프로토콜 / 엔드포인트
- 엔드포인트: `ws://<host>:8080/ws/echo` (Nginx 경유 시 `ws://<host>/ws/echo`).
- 메시지 형식: 텍스트 프레임. 수신한 페이로드 앞에 `echo: `를 붙여 그대로 반환.
- 인증: 없음 (v0.1.0 테스트 용도).

## 3. 서버 구현
- `EchoWebSocketHandler`
  - `TextWebSocketHandler` 상속.
  - `handleTextMessage`에서 동일 메시지에 접두어를 추가해 전송.
- `WebSocketConfig`
  - `WebSocketConfigurer` 구현체로 `/ws/echo` 경로와 핸들러 매핑.
  - CORS: 개발 편의를 위해 `*` 허용 (후속 버전에서 정교화).

## 4. 클라이언트 구현
- 훅 `useEchoSocket`
  - 컴포넌트 마운트 시 WebSocket 생성, 언마운트 시 종료.
  - 상태: `connected`, `messages` 배열.
  - API: `sendMessage(text)`.
- `GamePage`
  - 연결 상태 표시, 입력폼에서 메시지 전송, 수신 목록 렌더링.

## 5. 테스트 / 검증
- 수동 검증 시나리오
  1) `/game` 페이지 접속 → 연결 상태 "연결됨" 확인.
  2) 메시지 입력 후 전송 → 리스트에 `echo: <입력>` 노출.
- 이후 버전에서는 WebSocket 통합 테스트 또는 모킹 테스트 추가 예정.

## 6. 향후 확장
- STOMP + 토픽 분리를 통해 룸별 채널 구현.
- 게임 상태/프레임 동기화 프로토콜 정의 및 DTO 스키마 설계.
